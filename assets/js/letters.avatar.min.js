!function(d,f){function r(t,e){t=t||"",e=e||60;var r,a,n,i,o=String(t).toUpperCase().split(" "),c=1==o.length?o[0]?o[0].charAt(0):"?":o[0].charAt(0)+o[1].charAt(0);return d.devicePixelRatio&&(e*=d.devicePixelRatio),r=(("?"==c?72:c.charCodeAt(0))-64)%20,(a=f.createElement("canvas")).width=e,a.height=e,(n=a.getContext("2d")).fillStyle=["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#16a085","#27ae60","#2980b9","#8e44ad","#2c3e50","#f1c40f","#e67e22","#e74c3c","#ecf0f1","#95a5a6","#f39c12","#d35400","#c0392b","#bdc3c7","#7f8c8d"][r-1],n.fillRect(0,0,a.width,a.height),n.font=Math.round(a.width/2)+"px Arial",n.textAlign="center",n.fillStyle="#FFF",n.fillText(c,e/2,e/1.5),i=a.toDataURL(),a=null,i}r.transform=function(){Array.prototype.forEach.call(f.querySelectorAll("img[avatar]"),function(t,e){e=t.getAttribute("avatar"),t.src=r(e,t.getAttribute("width")),t.removeAttribute("avatar"),t.setAttribute("alt",e)})},"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=r),exports.LetterAvatar=r):(window.LetterAvatar=r,f.addEventListener("DOMContentLoaded",function(t){r.transform()}))}(window,document);