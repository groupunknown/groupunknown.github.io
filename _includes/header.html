<header class="header_sticky">
	<div class="menu-items">
		<a class="menu-item" href="#">Página Inicial</a>
		<a class="menu-item" href="#">Filmes</a>
		<a class="menu-item" href="#">Séries</a>
		<a class="menu-item" href="#">Jogos</a>
		<a class="menu-item" href="#">Músicas</a>
		<a class="menu-item" href="#">Programas</a>
		<a class="menu-item" href="#">Blog</a>
	</div>
</header>

<header>
	<div class="rounded-items">
		<div class="rounded-items-left">
			<a class="rounded-item-left" href="#">Filmes</a>
			<a class="rounded-item-left" href="#">Séries</a>
			<a class="rounded-item-left" href="#">Blog</a>
		</div>
		<div class="rounded-items-center">
			<div class="rounded-item-logo">?</div>
		</div>
		<div class="rounded-items-right">
			<a class="rounded-item-right" href="#">Jogos</a>
			<a class="rounded-item-right" href="#">Músicas</a>
			<a class="rounded-item-right" href="#">Programas</a>
		</div>
	</div>
</header>

<div class="search__suggest">
	<form role="form">
		<div class="search-suggest-input">
			<input type="text" id="search" placeholder="O que você procura?" autocomplete="off" spellcheck="false">
		</div>
	</form>
	<div class="search-suggest-results search-suggest-empty"></div>
</div>

<style type="text/css">
.search-suggest-input {
	width: 768px;
    max-width: 100%;
	margin: 0 auto;
    padding-top: 10rem;
}

.search-suggest-input input {
	height: 45px;
    background: #fff;
    border: 1px solid #efefef;
    border-bottom: 0;
    border-radius: 5px;
    width: 100%;
    padding: 0.5rem 1.5rem;
    box-shadow: 0 2px 5px 0px rgb(64 60 67 / 16%);
}

.search-suggest-input input:focus {
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 0;
}

.search-suggest-results {
    width: 768px;
    max-width: 100%;
    min-height: 60px;
    margin: 0 auto;
}

.search-suggest-results {
    position: relative;
    display: flex;
    flex-direction: column;
    border: 1px solid #efefef;
    border-top: 1px dashed #efefef;
    border-radius: 3px;
    background: #fff;
    box-shadow: 0 2px 5px 0px rgb(64 60 67 / 16%);
}

.search-suggest-category {
    display: flex;
    flex-direction: column;
    border-bottom: 1px solid #efefef;
    padding: 0.5rem;
    position: relative;
}

.search-suggest-category a:hover {
    background: #efefef;
}

.search-suggest-result {
    display: flex;
    flex-direction: row;
    padding: 0.5rem;
    border-radius: 3px;
    gap: 0.75rem;
}

.search-suggest-poster img {
    border-radius: 3px;
    width: 45px;
}

.search-suggest-summary {
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.search-suggest-title {
    font-size: 16px;
    font-weight: 500;
}

.search-suggest-synopsis {
    font-size: 13px;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.search-suggest-category:before {
    position: absolute;
    content: attr(data-category);
    right: 0.5rem;
    font-size: 12px;
    background: #e0e0e0;
    padding: 0 5px;
    border-radius: 3px;
}
</style>

<script type="text/javascript">
	var json_posts = [{"title":"Resident Evil 5: Retribuição","url":"/resident-evil-5-retribuicao","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"O vírus-T fatal da Corporação Umbrella está se espalhando pelo mundo, transformando pessoas comuns em legiões de zumbis. Prestes à extinção, a raça humana só tem uma esperança: Alice. Ela tem uma missão, lutando pelas cidades e através de continentes, sempre dentro da principal instalação de pesquisa da Corporação Umbrella. Velhos amigos se tornam novos inimigos, enquanto ela batalha para se libertar e descobre que tudo em que acreditou pode nem ser verdade."},{"title":"O Exterminador do Futuro: Destino Sombrio","url":"/o-exterminador-do-futuro-destino-sombrio","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"A guerreira Sarah Connor se une a Grace, um híbrido entre ciborgue e humano, e ao T-800 para proteger a jovem Dani Ramos de um novo tipo de exterminador que chega do futuro à Cidade do México."},{"title":"No Limite do Amanhã","url":"/no-limite-do-amanha","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"A Terra está dominada por alienígenas e o major Bill Cage, um relações públicas das Forças Armadas dos Estados Unidos, é obrigado a ir para a linha de frente. Inexplicavelmente, ele acaba preso em um ciclo do tempo, revivendo repetidamente sua última batalha. No entanto, quanto mais vezes ele luta, suas habilidades de guerreiro melhoram e ele fica mais perto de descobrir como derrotar o inimigo."},{"title":"Mad Max: Estrada da Fúria","url":"/mad-max-estrada-da-furia","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"Em um mundo apocalíptico, Max Rockatansky acredita que a melhor forma de sobreviver é não depender de ninguém. Porém, após ser capturado pelo tirano Immortan Joe e seus rebeldes, Max se vê no meio de uma guerra mortal, iniciada pela imperatriz Furiosa que tenta salvar um grupo de garotas. Também tentando fugir, Max aceita ajudar Furiosa. Dessa vez, o tirano Joe está ainda mais implacável pois teve algo insubstituível roubado."},{"title":"Guerra Mundial Z","url":"/guerra-mundial-z","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"Um vírus letal se espalha rapidamente e transforma seres humanos em zumbis. O ex-agente da ONU Gerry Lane é chamado para investigar a epidemia que está acabando com a humanidade, iniciando uma verdadeira corrida contra o tempo."},{"title":"Elysium","url":"/elysium","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"Em 2159, o mundo é dividido entre dois grupos: o primeiro, riquíssimo, mora na estação espacial Elysium, enquanto o segundo, pobre, vive na Terra, repleta de pessoas e em grande decadência. Por um lado, a secretária do governo Rhodes (Jodie Foster) faz de tudo para preservar o estilo de vida luxuoso de Elysium, por outro, um pobre cidadão da Terra (Matt Damon) tenta um plano ousado para trazer de volta a igualdade entre as pessoas."},{"title":"Divergente - Insurgente","url":"/divergente-insurgente","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"Tris (Shailene Woodley) e Quatro (Theo James) agora são fugitivos e procurados por Jeanine Matthews (Kate Winslet), líder da Erudição. Em busca de respostas e assombrados por prévias escolhas, o casal enfrentará inimagináveis desafios enquanto tentam descobrir a verdade sobre o mundo em que vivem."},{"title":"Amizade Colorida","url":"/amizade-colorida","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"Jamie (Mila Kunis) é uma jovem recrutadora de Nova York que convence um cliente em potencial (Justin Timberlake) a deixar seu emprego em Los Angeles para trás e aceitar um emprego na Big Apple. Ele aceita a proposta e logo os dois se tornam bons amigos. Um dia, após assistir um filme na casa dela, surge o papo do quanto a carência sexual incomoda ambos. Eles fazem um pacto de que terão apenas sexo, sem qualquer envolvimento emocional. Só que, aos poucos, a intimidade faz com que eles se tornem cada vez mais próximos e interessados um no outro."},{"title":"American Pie 2: A Segunda Vez é Ainda Melhor","url":"/american-pie-2-a-segunda-vez-e-ainda-melhor","category":"Séries","tags":"","date":"2022-01-06 00:00:00 +0000","description":"Ao término do primeiro ano da faculdade, Jim (Jason Biggs), Oz (Chris Klein), Kevin (Thomas Ian Nicholas), Stifler (Seann William Scott) e Finch (Eddie Kaye Thomas) mais uma vez se reencontram. Mas agora Nadia (Shannon Elizabeth) está prestes a vir visitar Jim, que ainda não se sente preparado sexualmente para encontrá-la e receberá a ajuda dos amigos."},{"title":"A Vigilante do Amanhã: Ghost in the Shell","url":"/a-vigilante-do-amanha-ghost-in-the-shell","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"Num mundo pós 2029, cérebros se fundem facilmente a computadores e a tecnologia está em todos os lugares. Motoko Kusanagi é uma ciborgue com experiência militar que comanda um esquadrão de elite especializado em combater crimes cibernéticos."},{"title":"A Origem","url":"/a-origem","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"Um ladrão que rouba segredos corporativos por meio do uso da tecnologia de compartilhamento de sonhos, recebe a tarefa inversa de plantar uma ideia na mente de um Diretor Executivo."},{"title":"A 5ª Onda","url":"/a-5-onda","category":"Filmes","tags":"","date":"2022-01-06 00:00:00 +0000","description":"No futuro, a Terra é tomada por alienígenas. Na primeira onda de ataques, um pulso eletromagnético acaba com toda a eletricidade do planeta. Na segunda, um tsunami mata 40% da população. Na terceira onda, os pássaros começam a transmitir um vírus que mata 97% das pessoas que resistiram aos outros ataques. Já na quarta onda, a adolescente Cassie Sullivan (Chlöe Grace Moretz) precisa se virar sozinha para sobreviver e ainda reencontrar seu irmão."},{"title":"O Fabuloso Destino de Amélie Poulain","url":"/o-fabuloso-destino-de-amelia-poulain","category":"Séries","tags":"","date":"2022-01-04 00:00:00 +0000","description":"Após deixar a vida de subúrbio que levava com a família, a inocente Amélie muda-se para o bairro parisiense de Montmartre, onde começa a trabalhar como garçonete. Certo dia encontra uma caixa escondida no banheiro de sua casa e, pensando que pertencesse ao antigo morador, decide procurá-lo e é assim que encontra Dominique. Ao ver que ele chora de alegria ao reaver o seu objeto, a moça fica impressionada e adquire uma nova visão do mundo. Então, a partir de pequenos gestos, ela passa a ajudar as pessoas que a rodeiam, vendo nisto um novo sentido para sua existência. Contudo, ainda sente falta de um grande amor."}];
	$("#search").keyup(function(){
		var input = $(this).val();
		if(input === '')  {
			$(".search-suggest-results").html('').addClass("search-suggest-empty");
			return;
		}
		var regex = new RegExp(input, "i"), results;

		FilterQuerySearchByCategory = (postings, category) => {
			results += `<div class="search-suggest-category" data-category="`+ category +`">`;
			postings.forEach((posting, id) => {
				if (posting.title.search(regex) != -1) {
					results += `<a class="search-suggest-result" href="`+ posting.url +`">
					<div class="search-suggest-poster">
					<img src="https://image.tmdb.org/t/p/w45`+ posting.poster +`" alt="`+ posting.title +`">
					</div>
					<div class="search-suggest-summary">
					<div class="search-suggest-title">`+ posting.title +`</div>
					<div class="search-suggest-synopsis">`+ posting.description +`</div>
					</div>
					</a>`;
				}
			});
			results += `</div>`;
			return results
		}

		var html_filmes = FilterQuerySearchByCategory(json_posts, "Filmes"),
		html_series = FilterQuerySearchByCategory(json_posts, "Séries");

		$(".search-suggest-results").append(html_filmes, html_series);
		$(".search-suggest-results").removeClass("search-suggest-empty");
	});
</script>