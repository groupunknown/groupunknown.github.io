{% if page.category %}
{% assign postings = page %}
{% else %}
{% assign postings = post %}
{% endif %}
{% assign vote_average = postings.vote_average | remove: "." %}
{% if vote_average == "00" %}
	{% assign status_text = "Nenhum" %}
{% endif %}
{% for vote_average in (1..20) %}
	{% assign status_text = "Péssimo" %}
{% endfor %}
{% for vote_average in (21..40) %}
	{% assign status_text = "Ruim" %}
{% endfor %}
{% for vote_average in (41..60) %}
	{% assign status_text = "Aceitável" %}
{% endfor %}
{% for vote_average in (61..80) %}
	{% assign status_text = "Ótimo" %}
{% endfor %}
{% for vote_average in (81..100) %}
	{% assign status_text = "Excelente" %}
{% endfor %}
{% if vote_average contains "100" %}
	{% assign status_num = "10" %}
{% endif %}
{% if vote_average == "00" %}
	{% assign status_num = "N/A" %}
{% endif %}
{% if vote_average != "00" and vote_average != "100" %}
	{% assign status_num = postings.vote_average %}
{% endif %}
{% if postings.vote_count == 0 %}
	{% assign rating = "Nenhuma avaliação" %}
{% elsif postings.vote_count <= 1 %}
	{% assign rating = {{postings.vote_count}} avaliação %}
{% elsif postings.vote_count >= 2 %}
	{% assign rating = {{postings.vote_count}} avaliações %}
{% endif %}

<div class="article-rating">
	<div class="rating {{ status_text | slugify: "latin" }}" data-placeholder>
		<svg viewBox="0 0 36 36" data-status="{{ status_text | strip }}">
			<path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path>
			<path stroke-dasharray="{{ vote_average | strip }}, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path>
			<text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle">{{ status_num | strip }}</text>
		</svg>
	</div>
	<a href="/avaliacoes?vote_average={{status_text | slugify: "latin"}}" class="status-{{ status_text | slugify: "latin" }}" data-placeholder>{{ status_text | strip }}</a>
	<div class="rating-text" data-placeholder>{{ rating | strip }}</div>
</div>